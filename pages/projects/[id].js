import Head from 'next/head'
import Image from 'next/image'
import styles from '../../styles/Home.module.css'
import React, { useState, useEffect } from "react";
import styled from "styled-components";
import { useRouter } from 'next/router'
import useColorTheme from "use-color-theme";

import Footer from '../../comps/Footer';
import Header from '../../comps/Header';

import { projects_data } from '../../public/data.js';

export default function Projects() {

    const [title, setTitle] = useState("")
    const [data, setData] = useState([])

    const colorTheme = useColorTheme("light-theme", {
        classNames: ["light-theme", "dark-theme"],
    });

    let sun_moon = "";
    let logo = "";
    if (colorTheme.value === "light-theme") {
        sun_moon = "/icons/sun.svg";
        logo = "/icons/logo.svg";
    } else if (colorTheme.value === "dark-theme") {
        sun_moon = "/icons/moon_w.svg";
        logo = "/icons/logo_w.svg";
    }


    const router = useRouter()
    console.log(data.screenshots, "data")

    useEffect(() => {
        if (router.query.id) {
            setData(projects_data[router.query.id])
        }
    });

    return (
        <>
            <Head>
                <title>Josh Renema | Projects</title>
                <meta name="description" content="Generated by create next app" />
                <link rel="icon" href="./icons/logo.png" />
            </Head>
            <Header onClick={() => { colorTheme.toggle() }} img_src={sun_moon} logo_src={logo} />

            <br />
            <div>{data.id}</div>
            <div>{data.title}</div>
            <div>{data.desc}</div>
            <Image height="50px" width="50px" objectFit="contain" src={data.icon} />
            <div>{data.github_link}</div>
            <div>{data.link}</div>
            {/* {data.screenshots.map((o, index) => {
                console.log(o, index)
                return (
                    <Image key={index} height="50px" width="50px" objectFit="contain" src={o.src} />
                )
            })} */}
            <br />

            <Footer />
        </>
    )
}
